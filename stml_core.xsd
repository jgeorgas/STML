<?xml version="1.0" encoding="UTF-8"?>
<xsd:schema xmlns="http://www.cefns.nau.edu/~jg455/schemas/stml/stml_core.xsd"
	xmlns:stmlagent="http://www.cefns.nau.edu/~jg455/schemas/stml/stml_agent.xsd"
	xmlns:stmltask="http://www.cefns.nau.edu/~jg455/schemas/stml/stml_task.xsd"
	xmlns:stmlresource="http://www.cefns.nau.edu/~jg455/schemas/stml/stml_resource.xsd"
	xmlns:stmlevent="http://www.cefns.nau.edu/~jg455/schemas/stml/stml_event.xsd"
	xmlns:stmlorganization="http://www.cefns.nau.edu/~jg455/schemas/stml/stml_organization.xsd"
	xmlns:stmlgraph="http://www.cefns.nau.edu/~jg455/schemas/stml/stml_graph.xsd"
	xmlns:archdiff="http://www.ics.uci.edu/pub/arch/xArch/diff.xsd" 
	xmlns:archinstance="http://www.ics.uci.edu/pub/arch/xArch/instance.xsd" 
	xmlns:archtypes="http://www.ics.uci.edu/pub/arch/xArch/types.xsd" 
	xmlns:xlink="http://www.w3.org/1999/xlink" 
	xmlns:xsd="http://www.w3.org/2001/XMLSchema" 
	attributeFormDefault="qualified" 
	elementFormDefault="qualified" 
	targetNamespace="http://www.cefns.nau.edu/~jg455/schemas/stml/stml_core.xsd">

	<!-- Import namespaces used -->
	<xsd:import namespace="http://www.cefns.nau.edu/~jg455/schemas/stml/stml_agent.xsd" schemaLocation="http://www.cefns.nau.edu/~jg455/schemas/stml/stml_agent.xsd"/>
	<xsd:import namespace="http://www.cefns.nau.edu/~jg455/schemas/stml/stml_task.xsd" schemaLocation="http://www.cefns.nau.edu/~jg455/schemas/stml/stml_task.xsd"/>
	<xsd:import namespace="http://www.cefns.nau.edu/~jg455/schemas/stml/stml_resource.xsd" schemaLocation="http://www.cefns.nau.edu/~jg455/schemas/stml/stml_resource.xsd"/>
	<xsd:import namespace="http://www.cefns.nau.edu/~jg455/schemas/stml/stml_event.xsd" schemaLocation="http://www.cefns.nau.edu/~jg455/schemas/stml/stml_event.xsd"/>
	<xsd:import namespace="http://www.cefns.nau.edu/~jg455/schemas/stml/stml_organization.xsd" schemaLocation="http://www.cefns.nau.edu/~jg455/schemas/stml/stml_organization.xsd"/>
	<xsd:import namespace="http://www.cefns.nau.edu/~jg455/schemas/stml/stml_graph.xsd" schemaLocation="http://www.cefns.nau.edu/~jg455/schemas/stml/stml_graph.xsd"/>
	<xsd:import namespace="http://www.ics.uci.edu/pub/arch/xArch/types.xsd" schemaLocation="http://www.isr.uci.edu/projects/xarchuci/ext/types.xsd"/>
	<xsd:import namespace="http://www.ics.uci.edu/pub/arch/xArch/instance.xsd" schemaLocation="http://www.isr.uci.edu/projects/xarchuci/core/instance.xsd"/>
	<xsd:import namespace="http://www.ics.uci.edu/pub/arch/xArch/diff.xsd" schemaLocation="http://www.isr.uci.edu/projects/xarchuci/ext/diff.xsd"/>

	<xsd:annotation>
		<xsd:documentation>
		STML Core

        A schema that captures the core concepts of a language that supports 
        the modeling of socio-technical concerns, integrating the representation
        of social communications with architectural artifacts.
        
        Heavily uses more specialized STML schemas that provide more details on
        the representation of socio-technical concepts.
        
        LOG:
        
        11/18/2011 -- [John.Georgas@nau.edu]
        Initial release of the core schema, after re-factoring of the STML language
        (previously called STCML).
        				
        TODO:
        	
        	-- Add namespace references into each of the type links
        	-- Fix the namespace references to appropriate URLs. Github publishing? Need
        	clear URLs for Apigen library generation.
        	
        	????:
        	
        	@@TODO: Link these schema elements in with archstructure and types in order 
        	to make sure namespace is shared
        	
		</xsd:documentation>
	</xsd:annotation>
  
	<!--
		ELEMENT: STML Root
		
		This is the root STML element that acts as a parent to other elements, and 
		forms the "entry point" into STML models.
	-->
	<xsd:element name="stmlRoot" type="STMLRoot"/>
	
	<!--
		TYPE: STMLRoot
		
		The type specification for the stmlRoot element, that defines a complete
		STML model. Elements that capture different aspects of a socio-technical
		model appear as optional elements (as indicated by their cardinalities).
		The details of each of these elements is found in specialized schemas that
		come together to form the whole of the STML language.
	-->
	<xsd:complexType name="STCMLRoot">
		<xsd:sequence>
			<xsd:element maxOccurs="1" minOccurs="0" name="agents" type="stmlagent:AgentSet"/>
			<xsd:element maxOccurs="1" minOccurs="0" name="tasks" type="stmltask:TaskSet"/>
			<xsd:element maxOccurs="1" minOccurs="0" name="resources" type="stmlresource:ResourceSet"/>
			<xsd:element maxOccurs="1" minOccurs="0" name="events" type="stmlevent:EventSet"/>
			<xsd:element maxOccurs="1" minOccurs="0" name="organization" type="stmlorganization:GroupSet"/>
			<xsd:element maxOccurs="unbounded" minOccurs="0" name="commNetwork" type="stmlgraphUndirectedGraph"/>
			<xsd:element maxOccurs="unbounded" minOccurs="0" name="techDependencyNetwork" type="stmlgraph:UndirectedGraph"/>
			<xsd:element maxOccurs="unbounded" minOccurs="0" name="teamNetwork" type="stmlgraph:UndirectedGraph"/>
		</xsd:sequence>
	</xsd:complexType>
	
	<!--
		TYPE: StringContent
		
		An element capturing textual content. It is placed in this schema, as it is reused
		across many of the other "satellite" STML schemas.
		
		@@Unsure this is needed, but left here until we know for sure.
	-->
	<xsd:complexType name="StringContent">
		<xsd:simpleContent>
			<xsd:extension base="xsd:string"/>
    		</xsd:simpleContent>
  	</xsd:complexType>
</xsd:schema>
